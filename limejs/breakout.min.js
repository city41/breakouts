var i=void 0,j=!0,l=null,m=!1;function aa(a){return function(){return this[a]}}var p,q=this;function ba(){}
function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function r(a){return a!==i}function da(a){return"array"==ca(a)}function s(a){return"string"==typeof a}function ea(a){return"number"==typeof a}function fa(a){return"function"==ca(a)}function ga(a){var b=typeof a;return"object"==b&&a!=l||"function"==b}function ha(a){return a[ia]||(a[ia]=++ja)}var ia="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ja=0;function ka(a,b,c){return a.call.apply(a.bind,arguments)}
function la(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function t(a,b,c){t=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ka:la;return t.apply(l,arguments)}
function ma(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var na=Date.now||function(){return+new Date};function oa(a,b){var c=a.split("."),d=q;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&r(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function u(a,b){function c(){}c.prototype=b.prototype;a.mf=b.prototype;a.prototype=new c};function pa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function qa(a){if(!ra.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(sa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ta,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(ua,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(va,"&quot;"));return a}var sa=/&/g,ta=/</g,ua=/>/g,va=/\"/g,ra=/[&<>\"]/;var v=Array.prototype,wa=v.indexOf?function(a,b,c){return v.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:0>c?Math.max(0,a.length+c):c;if(s(a))return!s(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},xa=v.forEach?function(a,b,c){v.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=s(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},ya=v.filter?function(a,b,c){return v.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=s(a)?
a.split(""):a,h=0;h<d;h++)if(h in g){var k=g[h];b.call(c,k,h,a)&&(e[f++]=k)}return e},za=v.map?function(a,b,c){return v.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=s(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};function Aa(a,b){0<=wa(a,b)||a.push(b)}function Ba(a,b){var c=wa(a,b);0<=c&&v.splice.call(a,c,1)}function Ca(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Da(a,b,c,d){v.splice.apply(a,Ea(arguments,1))}function Ea(a,b,c){return 2>=arguments.length?v.slice.call(a,b):v.slice.call(a,b,c)};var Fa;function Ga(a){a=a.className;return s(a)&&a.match(/\S+/g)||[]}function Ha(a,b){for(var c=Ga(a),d=Ea(arguments,1),e=c.length+d.length,f=c,g=0;g<d.length;g++)0<=wa(f,d[g])||f.push(d[g]);a.className=c.join(" ");return c.length==e}function Ia(a,b){var c=Ga(a),d=Ea(arguments,1),c=ya(c,function(a){return!(0<=wa(d,a))});a.className=c.join(" ")};function Ja(a,b){for(var c in a)b.call(i,a[c],c,a)}var Ka="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ka.length;f++)c=Ka[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var La,Ma,Na,Oa,Pa,Qa;function Ra(){return q.navigator?q.navigator.userAgent:l}Pa=Oa=Na=Ma=La=m;var Sa;if(Sa=Ra()){var Ta=q.navigator;La=0==Sa.indexOf("Opera");Ma=!La&&-1!=Sa.indexOf("MSIE");Oa=(Na=!La&&-1!=Sa.indexOf("WebKit"))&&-1!=Sa.indexOf("Mobile");Pa=!La&&!Na&&"Gecko"==Ta.product}var Ua=La,z=Ma,A=Pa,B=Na,Va=Oa,Wa,Xa=q.navigator;Wa=Xa&&Xa.platform||"";Qa=-1!=Wa.indexOf("Mac");var Ya=-1!=Wa.indexOf("Win");function Za(){var a=q.document;return a?a.documentMode:i}var $a;
a:{var ab="",bb;if(Ua&&q.opera)var cb=q.opera.version,ab="function"==typeof cb?cb():cb;else if(A?bb=/rv\:([^\);]+)(\)|;)/:z?bb=/MSIE\s+([^\);]+)(\)|;)/:B&&(bb=/WebKit\/(\S+)/),bb)var db=bb.exec(Ra()),ab=db?db[1]:"";if(z){var eb=Za();if(eb>parseFloat(ab)){$a=String(eb);break a}}$a=ab}var fb={};
function C(a){var b;if(!(b=fb[a])){b=0;for(var c=pa(String($a)).split("."),d=pa(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",k=RegExp("(\\d*)(\\D*)","g"),n=RegExp("(\\d*)(\\D*)","g");do{var w=k.exec(g)||["","",""],y=n.exec(h)||["","",""];if(0==w[0].length&&0==y[0].length)break;b=((0==w[1].length?0:parseInt(w[1],10))<(0==y[1].length?0:parseInt(y[1],10))?-1:(0==w[1].length?0:parseInt(w[1],10))>(0==y[1].length?0:parseInt(y[1],10))?1:0)||((0==w[2].length)<
(0==y[2].length)?-1:(0==w[2].length)>(0==y[2].length)?1:0)||(w[2]<y[2]?-1:w[2]>y[2]?1:0)}while(0==b)}b=fb[a]=0<=b}return b}var gb=q.document,hb=!gb||!z?i:Za()||("CSS1Compat"==gb.compatMode?parseInt($a,10):5);function D(a,b){this.width=a;this.height=b}p=D.prototype;p.f=function(){return new D(this.width,this.height)};function ib(a){return a.width*a.height}p.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};p.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};p.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
p.scale=function(a){this.width*=a;this.height*=a;return this};var jb=!z||z&&9<=hb;!A&&!z||z&&z&&9<=hb||A&&C("1.9.1");z&&C("9");function E(a,b){this.x=r(a)?a:0;this.y=r(b)?b:0}E.prototype.f=function(){return new E(this.x,this.y)};function kb(a){return a?new lb(mb(a)):Fa||(Fa=new lb)}var nb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ob(a){a=a.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new D(a.clientWidth,a.clientHeight)}function pb(a,b,c){return qb(document,arguments)}
function qb(a,b){var c=b[0],d=b[1];if(!jb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',qa(d.name),'"');if(d.type){c.push(' type="',qa(d.type),'"');var e={};x(e,d);delete e.type;d=e}c.push(">");c=c.join("")}var f=a.createElement(c);d&&(s(d)?f.className=d:da(d)?Ha.apply(l,[f].concat(d)):Ja(d,function(a,b){"style"==b?f.style.cssText=a:"class"==b?f.className=a:"for"==b?f.htmlFor=a:b in nb?f.setAttribute(nb[b],a):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?f.setAttribute(b,a):
f[b]=a}));2<b.length&&rb(a,f,b,2);return f}function rb(a,b,c,d){function e(c){c&&b.appendChild(s(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d],g=f,h=ca(g);if(("array"==h||"object"==h&&"number"==typeof g.length)&&!(ga(f)&&0<f.nodeType)){g=xa;a:{if((h=f)&&"number"==typeof h.length){if(ga(h)){h="function"==typeof h.item||"string"==typeof h.item;break a}if(fa(h)){h="function"==typeof h.item;break a}}h=m}g(h?Ca(f):f,e)}else e(f)}}function F(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function sb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function mb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function tb(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{for(var c;c=a.firstChild;)a.removeChild(c);a.appendChild(mb(a).createTextNode(b))}}function lb(a){this.ia=a||q.document||document}function ub(a,b){var c;c=a.ia;var d=b&&"*"!=b?b.toUpperCase():"";c=c.querySelectorAll&&c.querySelector&&d?c.querySelectorAll(d+""):c.getElementsByTagName(d||"*");return c}p=lb.prototype;
p.fd=function(a,b,c){return qb(this.ia,arguments)};p.createElement=function(a){return this.ia.createElement(a)};p.createTextNode=function(a){return this.ia.createTextNode(a)};p.appendChild=function(a,b){a.appendChild(b)};p.append=function(a,b){rb(mb(a),a,arguments,1)};p.contains=sb;function vb(){}var wb=0;p=vb.prototype;p.key=0;p.Ca=m;p.fc=m;p.yb=function(a,b,c,d,e,f){if(fa(a))this.zd=j;else if(a&&a.handleEvent&&fa(a.handleEvent))this.zd=m;else throw Error("Invalid listener argument");this.Qa=a;this.Nd=b;this.src=c;this.type=d;this.capture=!!e;this.qc=f;this.fc=m;this.key=++wb;this.Ca=m};p.handleEvent=function(a){return this.zd?this.Qa.call(this.qc||this.src,a):this.Qa.handleEvent.call(this.Qa,a)};var xb=!z||z&&9<=hb,yb=z&&!C("9");!B||C("528");A&&C("1.9b")||z&&C("8")||Ua&&C("9.5")||B&&C("528");A&&!C("8")||z&&C("9");function zb(){0!=Ab&&(this.vf=Error().stack,ha(this))}var Ab=0;function G(a,b){this.type=a;this.currentTarget=this.target=b}G.prototype.oa=m;G.prototype.defaultPrevented=m;G.prototype.Nb=j;G.prototype.preventDefault=function(){this.defaultPrevented=j;this.Nb=m};function Bb(a){Bb[" "](a);return a}Bb[" "]=ba;function Cb(a,b){a&&this.yb(a,b)}u(Cb,G);p=Cb.prototype;p.target=l;p.relatedTarget=l;p.offsetX=0;p.offsetY=0;p.clientX=0;p.clientY=0;p.screenX=0;p.screenY=0;p.button=0;p.keyCode=0;p.charCode=0;p.ctrlKey=m;p.altKey=m;p.shiftKey=m;p.metaKey=m;p.Ve=m;p.vb=l;
p.yb=function(a,b){var c=this.type=a.type;G.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(A){var e;a:{try{Bb(d.nodeName);e=j;break a}catch(f){}e=m}e||(d=l)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=B||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=B||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Ve=Qa?a.metaKey:a.ctrlKey;this.state=a.state;this.vb=a;a.defaultPrevented&&this.preventDefault();delete this.oa};
p.preventDefault=function(){Cb.mf.preventDefault.call(this);var a=this.vb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=m,yb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Db={},I={},Eb={},Fb={};
function J(a,b,c,d,e){if(b){if(da(b)){for(var f=0;f<b.length;f++)J(a,b[f],c,d,e);return l}var d=!!d,g=I;b in g||(g[b]={M:0,H:0});g=g[b];d in g||(g[d]={M:0,H:0},g.M++);var g=g[d],h=ha(a),k;g.H++;if(g[h]){k=g[h];for(f=0;f<k.length;f++)if(g=k[f],g.Qa==c&&g.qc==e){if(g.Ca)break;return k[f].key}}else k=g[h]=[],g.M++;var n=Gb,w=xb?function(a){return n.call(w.src,w.key,a)}:function(a){a=n.call(w.src,w.key,a);if(!a)return a},f=w;f.src=a;g=new vb;g.yb(c,f,a,b,d,e);c=g.key;f.key=c;k.push(g);Db[c]=g;Eb[h]||
(Eb[h]=[]);Eb[h].push(g);a.addEventListener?(a==q||!a.gc)&&a.addEventListener(b,f,d):a.attachEvent(b in Fb?Fb[b]:Fb[b]="on"+b,f);return c}throw Error("Invalid event type");}function Hb(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)Hb(a,b[f],c,d,e);else a=J(a,b,c,d,e),Db[a].fc=j}
function Ib(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)Ib(a,b[f],c,d,e);else{d=!!d;a:{f=I;if(b in f&&(f=f[b],d in f&&(f=f[d],a=ha(a),f[a]))){a=f[a];break a}a=l}if(a)for(f=0;f<a.length;f++)if(a[f].Qa==c&&a[f].capture==d&&a[f].qc==e){Jb(a[f].key);break}}}
function Jb(a){if(Db[a]){var b=Db[a];if(!b.Ca){var c=b.src,d=b.type,e=b.Nd,f=b.capture;c.removeEventListener?(c==q||!c.gc)&&c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in Fb?Fb[d]:Fb[d]="on"+d,e);c=ha(c);Eb[c]&&(e=Eb[c],Ba(e,b),0==e.length&&delete Eb[c]);b.Ca=j;if(b=I[d][f][c])b.Id=j,Kb(d,f,c,b);delete Db[a]}}}
function Kb(a,b,c,d){if(!d.Db&&d.Id){for(var e=0,f=0;e<d.length;e++)d[e].Ca?d[e].Nd.src=l:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.Id=m;0==f&&(delete I[a][b][c],I[a][b].M--,0==I[a][b].M&&(delete I[a][b],I[a].M--),0==I[a].M&&delete I[a])}}function Lb(a,b,c,d,e){var f=1,b=ha(b);if(a[b]){a.H--;a=a[b];a.Db?a.Db++:a.Db=1;try{for(var g=a.length,h=0;h<g;h++){var k=a[h];k&&!k.Ca&&(f&=Mb(k,e)!==m)}}finally{a.Db--,Kb(c,d,b,a)}}return Boolean(f)}function Mb(a,b){a.fc&&Jb(a.key);return a.handleEvent(b)}
function Gb(a,b){if(!Db[a])return j;var c=Db[a],d=c.type,e=I;if(!(d in e))return j;var e=e[d],f,g;if(!xb){var h;if(!(h=b))a:{h=["window","event"];for(var k=q;f=h.shift();)if(k[f]!=l)k=k[f];else{h=l;break a}h=k}f=h;h=j in e;k=m in e;if(h){if(0>f.keyCode||f.returnValue!=i)return j;a:{var n=m;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(w){n=j}if(n||f.returnValue==i)f.returnValue=j}}n=new Cb;n.yb(f,this);f=j;try{if(h){for(var y=[],K=n.currentTarget;K;K=K.parentNode)y.push(K);g=e[j];g.H=g.M;for(var H=
y.length-1;!n.oa&&0<=H&&g.H;H--)n.currentTarget=y[H],f&=Lb(g,y[H],d,j,n);if(k){g=e[m];g.H=g.M;for(H=0;!n.oa&&H<y.length&&g.H;H++)n.currentTarget=y[H],f&=Lb(g,y[H],d,m,n)}}else f=Mb(c,n)}finally{y&&(y.length=0)}return f}d=new Cb(b,this);return f=Mb(c,d)};function Nb(){zb.call(this)}u(Nb,zb);p=Nb.prototype;p.gc=j;p.Md=l;p.addEventListener=function(a,b,c,d){J(this,a,b,c,d)};p.removeEventListener=function(a,b,c,d){Ib(this,a,b,c,d)};
p.dispatchEvent=function(a){var b=a.type||a,c=I;if(b in c){if(s(a))a=new G(a,this);else if(a instanceof G)a.target=a.target||this;else{var d=a,a=new G(b,this);x(a,d)}var d=1,e,c=c[b],b=j in c,f;if(b){e=[];for(f=this;f;f=f.Md)e.push(f);f=c[j];f.H=f.M;for(var g=e.length-1;!a.oa&&0<=g&&f.H;g--)a.currentTarget=e[g],d&=Lb(f,e[g],a.type,j,a)&&a.Nb!=m}if(m in c)if(f=c[m],f.H=f.M,b)for(g=0;!a.oa&&g<e.length&&f.H;g++)a.currentTarget=e[g],d&=Lb(f,e[g],a.type,m,a)&&a.Nb!=m;else for(e=this;!a.oa&&e&&f.H;e=e.Md)a.currentTarget=
e,d&=Lb(f,e,a.type,m,a)&&a.Nb!=m;a=Boolean(d)}else a=j;return a};var Ob={},Pb,Qb,Rb;function Sb(){zb.call(this)}u(Sb,Nb);Sb.prototype.zb=ba;function Tb(a){if(a[0]instanceof Sb)return a[0];da(a)||(a=Ca(arguments));return 2<a.length?new Ub(a):s(a[0])&&("rgb("==a[0].substring(0,4)||"rgba("==a[0].substring(0,5)||"#"==a[0].substring(0,1))?new Ub(a[0]):new Vb(a[0])}Sb.prototype.Ya=ba;Sb.prototype.Ob=ba;function Vb(a){zb.call(this);a&&fa(a.data)&&(a=a.data());s(a)?(this.D=a,50<this.D.length&&(this.D=this.D.substr(-50)),Wb[this.D]?this.p=Wb[this.D]:(this.p=new Image,this.p.src=a)):(this.D=a.src,50<this.D.length&&(this.D=this.D.substr(-50)),this.p=Wb[this.D]?Wb[this.D]:a);this.ka()||J(this.p,"load",this.Ge,m,this);Wb[this.D]=this.p}u(Vb,Sb);var Wb={};p=Vb.prototype;p.id="image";
p.zb=function(a){var b=a.b(),c=this;!b.width&&!b.height&&(this.ka()?a.k(this.p.width,this.p.height):J(this,"load",function(){var a=this.b();!a.width&&!a.height&&this.k(c.p.width,c.p.height)},m,a));this.ka()||J(this,"load",function(){L(a,Xb)},m,this)};p.Ge=function(a){this.dispatchEvent(a)};p.sd=aa("p");p.ka=function(){return!(!this.p||!this.p.width||!this.p.height)};p.k=function(a,b,c){ea(a)&&(a=new D(a,b),b=c||m);this.s=a;this.hf=b;return this};
function Yb(a,b){var c=b.b().f();a.s&&(a.hf?(c.width*=a.s.width,c.height*=a.s.height):c=a.s);var d=new E(0,0);a.Dc&&(a.Af?(d.x=c.width*a.Dc.x,d.y=c.height*a.Dc.y):d=a.Dc);return[c,d]}function Zb(a,b,c){var d=Yb(a,c),e=d[0],d=d[1],f=$b(c);b.style[ac("BackgroundSize")]=e.width*f+"px "+e.height*f+"px";c=c.J?c.J.Sb:0;b.style.backgroundPosition=d.x*f-c+"px "+(d.y*f-c)+"px";a.Gf&&(b.style.imageRendering="optimizeQuality")}p.Ya=function(a,b){a.style.background="url("+this.p.src+")";Zb(this,a,b)};
p.Ob=function(a,b){var c=b.b(),d=M(b);if(c.width&&c.height)try{var e=this.sd(),f=Yb(this,b),g=f[0],h=f[1],k=a.createPattern(e,"repeat"),n=g.width/e.width,w=g.height/e.height;a.save();a.translate(d.left+h.x,d.top+h.y);a.scale(n,w);a.fillStyle=k;a.fillRect(-h.x/n,-h.y/w,c.width/n,c.height/w);a.restore()}catch(y){}};function bc(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}bc.prototype.f=function(){return new bc(this.top,this.right,this.bottom,this.left)};bc.prototype.contains=function(a){return!this||!a?m:a instanceof bc?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};
bc.prototype.expand=function(a,b,c,d){ga(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};function cc(a,b){return a.left<=b.right&&b.left<=a.right&&a.top<=b.bottom&&b.top<=a.bottom};function dc(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}dc.prototype.f=function(){return new dc(this.left,this.top,this.width,this.height)};dc.prototype.contains=function(a){return a instanceof dc?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};dc.prototype.b=function(){return new D(this.width,this.height)};function ec(a,b,c){var d;a:if(d=String(c).replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()}),a.style[d]===i){var e=B?"Webkit":A?"Moz":z?"ms":Ua?"O":l,f=s(i)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s",c=c.replace(RegExp("(^"+(f?"|["+f+"]+":"")+")([a-z])","g"),function(a,b,c){return b+c.toUpperCase()}),e=e+c;if(a.style[e]!==i){d=e;break a}}d&&(a.style[d]=b)}
function fc(a,b){var c;a:{c=mb(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,l))){c=c[b]||c.getPropertyValue(b)||"";break a}c=""}return c||(a.currentStyle?a.currentStyle[b]:l)||a.style&&a.style[b]}function gc(a){var b=a.getBoundingClientRect();z&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function hc(a){if(z&&!(z&&8<=hb))return a.offsetParent;for(var b=mb(a),c=fc(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=fc(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return l}
function ic(a,b,c){if(b instanceof D)c=b.height,b=b.width;else if(c==i)throw Error("missing height argument");a.style.width=jc(b);a.style.height=jc(c)}function jc(a){"number"==typeof a&&(a=Math.round(a)+"px");return a}function kc(a){if("none"!=fc(a,"display"))return lc(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=lc(a);b.display=c;b.position=e;b.visibility=d;return a}
function lc(a){var b=a.offsetWidth,c=a.offsetHeight,d=B&&!b&&!c;return(!r(b)||d)&&a.getBoundingClientRect?(a=gc(a),new D(a.right-a.left,a.bottom-a.top)):new D(b,c)}function mc(a){var b=kb(i),c=l;if(z)b=c=b.ia.createStyleSheet(),z?b.cssText=a:b.innerHTML=a;else{var d=ub(b,"head")[0];d||(c=ub(b,"body")[0],d=b.fd("head"),c.parentNode.insertBefore(d,c));var e=c=b.fd("style");z?e.cssText=a:e.innerHTML=a;b.appendChild(d,c)}return c};function N(a,b){this.x=a;this.y=b}u(N,E);N.prototype.f=function(){return new N(this.x,this.y)};N.prototype.scale=function(a){this.x*=a;this.y*=a;return this};N.prototype.rotate=function(a){var b=Math.cos(a),a=Math.sin(a),c=this.y*b+this.x*a;this.x=this.x*b-this.y*a;this.y=c;return this};function O(a,b,c,d,e){Vb.call(this,a);ea(b)&&(b=new dc(b,c,d,e),c=new N(0,0),d=new D(b.width,b.height),e=m);this.Od=b;this.va=c;this.Y=d;this.$e=e;a=this.Od;a=[this.D,a.width,a.height,a.left,a.top,this.va.x,this.va.y].join("_");r(this.ic[a])?(this.g=this.ic[a],this.g.Ib||J(this.g.Ab,"processed",function(){this.dispatchEvent(new G("processed"))},m,this)):(this.g={},this.g.Ib=m,this.g.Ab=this,this.g.ua=this.Ae(),this.ic[a]=this.g,this.pe=this.Ub?document.getCSSCanvasContext("2d",this.g.ua,this.Y.width,
this.Y.height):nc(this),this.ka()?this.Fd():J(this,"load",this.Fd,m,this))}u(O,Vb);O.prototype.id="frame";O.prototype.ic={};O.prototype.Ub=fa(document.getCSSCanvasContext);O.prototype.zb=function(a){var b=a.b();0==b.width&&0==b.height&&a.k(this.Y.width,this.Y.height);Vb.prototype.zb.call(this,a);this.g&&this.g.Ib||J(this,"processed",function(){L(a,Xb)},m,this)};var oc="cvsbg_"+Math.round(1E3*Math.random())+"_",pc=0,qc;O.prototype.Ae=function(){pc++;return oc+pc};
O.prototype.Fd=function(){rc(this,this.pe);if(!this.Ub){var a=this.wa.toDataURL("image/png"),b="."+this.g.ua+"{background-image:url("+a+") !important}";if(qc)if(z)qc.cssText+=b;else{var c=qc,d=i;if(0>d||d==i)d=(c.rules||c.cssRules).length;if(c.insertRule)c.insertRule(b,d);else if(b=/^([^\{]+)\{([^\{]+)\}/.exec(b),3==b.length)c.addRule(b[1],b[2],d);else throw Error("Your CSSRule appears to be ill-formatted.");}else mc(b),qc=document.styleSheets[document.styleSheets.length-1];this.g.He=pb("img");this.g.He.src=
a}this.g.Ib=j;this.dispatchEvent(new G("processed"))};O.prototype.sd=function(){if(!this.Pa)if(this.g.Ab&&this.g.Ab.Pa)this.Pa=this.g.Ab.Pa;else{if(!this.wa){var a=nc(this);rc(this,a)}this.Pa=this.wa}return this.Pa};function nc(a){a.wa=pb("canvas");var b=a.wa.getContext("2d");a.wa.width=a.Y.width;a.wa.height=a.Y.height;return b}
function rc(a,b){var c=a.Od,d=c.width,e=c.height,f=c.left,c=c.top,g,h;0>f&&(d+=f,f=0);0>c&&(e+=c,c=0);d+f>a.p.width&&(d=a.p.width-f);e+c>a.p.height&&(e=a.p.height-c);a.$e?(b.rotate(0.5*-Math.PI),b.translate(-a.Y.height,0),g=a.Y.height-a.va.y-d,h=a.va.x):(g=a.va.x,h=a.va.y);b.drawImage(a.p,f,c,d,e,g,h,d,e)}O.prototype.Ya=function(a,b){this.Ub?a.style.background="-webkit-canvas("+this.g.ua+")":this.g.ua!=b.hc&&(Ha(a,this.g.ua),a.style.background="",b.hc&&Ia(a,b.hc),b.hc=this.g.ua);Zb(this,a,b)};var sc,tc,uc,vc,wc,xc=Ra();tc=(sc=B&&Va&&/(ipod|iphone|ipad)/i.test(xc))&&fa(Object.freeze);uc=B&&Va&&/(android)/i.test(xc);vc=B&&/playbook/i.test(xc);wc=r(document.ontouchmove);var yc=l,zc=l,Ac=A||B||Ua||"function"==typeof q.atob;function Bc(){function a(a,b){a.Aa==i&&(a.Aa=[]);for(var c=0;c<b.length;c++){var d={};d.name=b[c].attributes.getNamedItem("name").nodeValue;d.value=b[c].attributes.getNamedItem("value").nodeValue;a.Aa.push(d)}}this.td=function(a){return this.ra[a-1]};var b;var c;b=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");b.overrideMimeType&&b.overrideMimeType("text/xml");b.open("GET","media/bg.tmx",m);b.send();b.responseXML==l?(window.DOMParser?(c=new DOMParser,c=c.parseFromString(b.responseText,
"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b.responseText)),b=c):b=b.responseXML;c=b.getElementsByTagName("map")[0];this.filename="media/bg.tmx";this.orientation=c.attributes.getNamedItem("orientation").nodeValue;this.version=parseFloat(c.attributes.getNamedItem("version").nodeValue);this.width=parseInt(c.attributes.getNamedItem("width").nodeValue);this.height=parseInt(c.attributes.getNamedItem("height").nodeValue);this.Kc=parseInt(c.attributes.getNamedItem("tilewidth").nodeValue);
this.Jc=parseInt(c.attributes.getNamedItem("tileheight").nodeValue);this.Aa=[];c.getElementsByTagName("properties").length&&a(this,c.getElementsByTagName("properties")[0].getElementsByTagName("property"));var d=c.getElementsByTagName("tileset");this.nf=[];this.ra=[];for(b=0;b<d.length;b++){var e={};e.ld=parseInt(d[b].attributes.getNamedItem("firstgid").nodeValue);e.name=d[b].attributes.getNamedItem("name").nodeValue;e.Qd=d[b].attributes.getNamedItem("spacing")?parseInt(d[b].attributes.getNamedItem("spacing").nodeValue):
0;e.margin=d[b].attributes.getNamedItem("margin")?parseInt(d[b].attributes.getNamedItem("margin").nodeValue):0;e.Kc=parseInt(d[b].attributes.getNamedItem("tilewidth").nodeValue);e.Jc=parseInt(d[b].attributes.getNamedItem("tileheight").nodeValue);e.za={};e.za.source="media/"+d[b].getElementsByTagName("image")[0].attributes.getNamedItem("source").nodeValue;e.za.width=parseInt(d[b].getElementsByTagName("image")[0].attributes.getNamedItem("width").nodeValue);e.za.height=parseInt(d[b].getElementsByTagName("image")[0].attributes.getNamedItem("height").nodeValue);
tilewidthcount=parseInt(e.za.width/e.Kc);tileheightcount=parseInt(e.za.height/e.Jc);for(var f=0;f<tileheightcount;f++)for(var g=0;g<tilewidthcount;g++){var h={Aa:[]};h.Lf=e;h.width=e.Kc;h.height=e.Jc;h.x=g;h.y=f;h.Va=g*h.width+e.Qd+g*e.margin;h.Wa=f*h.height+e.Qd+f*e.margin;h.ud=parseInt(e.ld+(g+f*tilewidthcount));h.frame=new O(e.za.source,h.Va,h.Wa,h.width,h.height);this.ra.push(h)}f=d[b].getElementsByTagName("tile");for(g=0;g<f.length;g++)a(this.ra[e.ld+parseInt(f[g].attributes.getNamedItem("id").nodeValue)-
1],f[g].getElementsByTagName("property"));this.nf.push(e)}d=c.getElementsByTagName("layer");this.uc=[];for(b=0;b<d.length;b++){e={Aa:[]};e.name=d[b].attributes.getNamedItem("name").nodeValue;e.width=parseInt(d[b].attributes.getNamedItem("width").nodeValue);e.height=parseInt(d[b].attributes.getNamedItem("height").nodeValue);a(e,d[b].getElementsByTagName("property"));e.ra=[];a:{f=d[b];h=l;f.getElementsByTagName("data")[0].attributes.getNamedItem("encoding")&&(h=f.getElementsByTagName("data")[0].attributes.getNamedItem("encoding").nodeValue);
var k=l;f.getElementsByTagName("data")[0].attributes.getNamedItem("compression")&&(k=f.getElementsByTagName("data")[0].attributes.getNamedItem("compression").nodeValue);g=[];switch(k){case l:switch(h){case l:k=f.getElementsByTagName("tile");for(f=0;f<k.length;f++)h=parseInt(k[f].attributes.getNamedItem("gid").nodeValue),g.push(h);break a;case "base64":g="";h=0;for(k=f.getElementsByTagName("data")[0].childNodes.length;h<k;h++)g+=f.getElementsByTagName("data")[0].childNodes[h].nodeValue;h=g;f=f=4;h=
h.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"");g=i;if(Ac)g=q.atob(h);else{g=h;if(!yc){yc={};zc={};for(h=0;65>h;h++)yc[h]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h),zc[yc[h]]=h}for(var h=zc,k=[],n=0;n<g.length;){var w=h[g.charAt(n++)],y=n<g.length?h[g.charAt(n)]:0;++n;var K=n<g.length?h[g.charAt(n)]:0;++n;var H=n<g.length?h[g.charAt(n)]:0;++n;if(w==l||y==l||K==l||H==l)throw Error();k.push(w<<2|y>>4);64!=K&&(k.push(y<<4&240|K>>2),64!=H&&k.push(K<<6&192|H))}g=
String.fromCharCode.apply(l,k)}h=[];w=n=k=i;k=0;for(w=g.length/f;k<w;k++){h[k]=0;for(n=f-1;0<=n;--n)h[k]+=g.charCodeAt(k*f+n)<<(n<<3)}g=h;break a;default:throw"limejs: "+h+" encoded TMX Tile Map not supported!";}default:throw"limejs: "+k+" compressed TMX Tile Map not supported!";}}for(f=0;f<g.length;f++)if(h=parseInt(g[f]),0!=h){k={};k.W=this.td(h);k.x=parseInt(f%e.width);k.y=parseInt(f/e.width);if("isometric"===this.orientation)k.Va=0.5*(k.x-k.y)*k.W.width,k.Wa=0.25*(k.y+k.x)*k.W.height;else if("orthogonal"===
this.orientation)k.Va=k.x*k.W.width,k.Wa=k.y*k.W.height;else throw"limejs: "+this.orientation+" type TMX Tile Map not supported !";e.ra.push(k)}this.uc.push(e)}c=c.getElementsByTagName("object");this.Re=[];for(b=0;b<c.length;b++)d={Aa:[]},d.name=c[b].attributes.getNamedItem("name").nodeValue,c[b].attributes.getNamedItem("gid")?(d.ud=parseInt(c[b].attributes.getNamedItem("gid").nodeValue),d.W=this.td(d.ud),d.width=d.W.width,d.height=d.W.height,d.Ee=j):(d.width=parseInt(c[b].attributes.getNamedItem("width").nodeValue),
d.height=parseInt(c[b].attributes.getNamedItem("height").nodeValue),d.Ee=m),d.x=parseInt(c[b].attributes.getNamedItem("x").nodeValue),d.Va=d.x,d.y=parseInt(c[b].attributes.getNamedItem("y").nodeValue),d.Wa=d.y,a(d,c[b].getElementsByTagName("property")),this.Re.push(d)};bc.prototype.size=function(){return new D(this.right-this.left,this.bottom-this.top)};function Cc(){}Cc.prototype.G=ba;function P(a){return a.Zc?a.Zc:a}function Dc(a,b){x(b,a);b.Zc=P(a);return b};var Q=new Cc;Q.sa=function(){};
Q.se=function(){var a=this.Ba,b=this.Eb(),c=this.R||1,d=c/a,e;if(this.a){this.nb&&this.nb.contains(b)&&(e=ib(this.nb.size())/ib(b.size()))&&1.6>e&&0.5<e?b=this.nb:1!=this.Jf&&0!=this.c.length&&(this instanceof R||b.expand(12,12,12,12));this.nb=b;var f=b.size();e=f.f().scale(c).ceil();if(this.a.width!=e.width||this.a.height!=e.height)this.a.width=e.width,this.a.height=e.height,this.Kb=1;var g=this.r.f();this.l[S]&&(g=this.l[S]);0!=e.width?g.scale(f.width*d/e.width):g.scale(1/a);a=M(this);this.$b=(a.left-
b.left)*c;this.ac=(a.top-b.top)*c;b=this.b().f();a=this.T;b.width*=a.x;b.height*=a.y;b=b.scale(c);c=this.d.f();this.l[Ec]&&(c=this.l[Ec]);c.x*=d;c.y*=d;c.x-=b.width+this.$b;c.y-=b.height+this.ac;Fc(this.a,100*((this.$b+b.width)/e.width),100*((this.ac+b.height)/e.height),j);!this.K[Ec]&&(!this.K[S]&&!this.K[Gc])&&(d=-(this.z%=360),r(this.l[Gc])&&(d=-this.l[Gc]),Hc(this.a,Ic(new Jc,0.1).translate(c.x,c.y).scale(g.x,g.y).rotate(d)));this.Kb&&(d=this.a.getContext("2d"),c=this.R||1,d.clearRect(0,0,e.width,
e.height),d.save(),d.translate(this.$b,this.ac),d.scale(c,c),e=this.b(),g=this.T,d.translate(e.width*g.x,e.height*g.y),this.m.hd.call(this,d),d.restore(),this.Kb=0)}};Q.update=function(){};
Q.hd=function(a){if(this.q&&(this.h!=this.X&&(this.X&&T.Pd.call(this),this.h&&T.Uc.call(this)),!this.na&&!this.rc&&!(0==this.aa||1==this.tc))){1!=this.aa&&(a.globalAlpha*=this.aa);if(this.h){T.ad.call(this.h);var b=this.X,c=this.r;a.save();a.save();a.translate(b.Dd.x,b.Dd.y);a.rotate(-b.Ed);this.Sa&&a.rotate((this.z%=360)*Math.PI/180);a.beginPath();a.moveTo(0,0);a.lineTo(b.Bc/c.x,0);a.lineTo(b.Bc/c.x,b.Ac/c.y);a.lineTo(0,b.Ac/c.y);a.closePath();a.restore();a.clip()}b=new E(0,0);this.m.G.call(this,
a);for(var d=0,e;e=this.c[d];d++){var f=Kc(e,b).f(),g=e.z%=360,c=e.r;a.save();a.translate(f.x,f.y);a.scale(c.x,c.y);0!=g&&a.rotate(-g*Math.PI/180);this.m.hd.call(e,a);a.restore()}1!=this.aa&&(a.globalAlpha/=this.aa);this.X&&a.restore()}};var ac,Lc,Mc,Nc,Oc,Pc,Qc,Rc=B?"Webkit":A?"Moz":Ua?"O":z?"ms":"",Sc=pb("div").style;Lc="-"+Rc.toLowerCase()+"-transform";Mc=function(a){return Sc[a]!==i?a:m};ac=function(a){var b=a.charAt(0).toLowerCase()+a.substr(1),c=Rc+a;return Mc(a)?a:Mc(b)?b:Mc(c)?c:i};var Tc,Uc=ac("BorderRadius");Tc=function(a,b,c,d){d=d?"%":"px";c=r(c)?c:b;b=(da(b)?b.join(d+" "):b)+d+"/"+((da(c)?c.join(d+" "):c)+d);b!=a.ne&&(a.style[Uc]=a.ne=b)};function Jc(a){this.Rb=[];this.precision=1;this.ub=j;this.Bf&&Ic(this,a)}
function Vc(a,b){a.ub=b;return a}Jc.prototype.scale=function(a,b){this.Rb.push("scale("+a+","+b+")");return this};Jc.prototype.rotate=function(a,b){var c;c=this.ub&&(sc||vc)?"rotate3d(0, 0, 1, "+a+(b?b:"deg")+")":"rotate("+a+(b?b:"deg")+")";0!=a&&this.Rb.push(c);return this};Jc.prototype.translate=function(a,b,c){var d=1/this.precision,e="translate";if(this.ub&&(sc||vc))e+="3d";e+="("+a*d+"px,"+b*d+"px";if(this.ub&&(sc||vc))e+=","+(c?c:0)*d+"px";this.Rb.push(e+")");return this};
function Ic(a,b){if(1!=a.precision){var c=1/a.precision;a.scale(c,c);a.precision=1}1!=b&&(a.scale(b,b),a.precision=b);return a}Jc.prototype.toString=function(){1!=this.precision&&Ic(this,1);return this.Rb.join(" ")};var Hc,Wc=ac("Transform");Hc=function(a,b){var c=b.toString();c!=a.of&&(a.style[Wc]=a.of=c);Pb=1};var Fc,Xc=ac("TransformOrigin");Fc=function(a,b,c,d){d=d?"%":"px";b=b+d+" "+c+d;b!=a.pf&&(a.style[Xc]=a.pf=b)};var Yc=ac("Transition");Nc=!!Yc&&!Ua;
function Zc(a,b){if(!a.length)return a;for(var c=a.split("),"),d=0;d<c.length-1;d++)c[d]+=")";c=ya(c,function(a){return-1==a.indexOf(b)});return c.join(",")}Oc=function(a,b,c,d){if(Yc){var e=Zc(a.style[Yc],b);e.length&&(e+=", ");e+=b+" "+c+"s cubic-bezier("+d[1]+","+d[2]+","+d[3]+","+d[4]+")";a.style[Yc]=e}};Pc=function(a,b){Yc&&a&&(a.style[Yc]=Zc(a.style[Yc],b))};Qc=function(a,b,c){if(a.qf!=b||a.Fe!=c)a.qf=b,a.Fe=c,ic(a,b,c)};var T=new Cc;T.sa=function(){for(var a=0,b,c=0;b=this.c[c];c++)b=b instanceof U?b.t:b,b==this.a.childNodes[a]?a++:(sb(this.F,b)&&F(b),T.ke(this.F,b,a++))};
T.te=function(){var a=this.b(),b=this.Ba,c=this.d,d=this.R||1,e=this.Wc;this.l[Ec]&&(c=this.l[Ec]);var f=Math.round(a.width*d),g=Math.round(a.height*d),h=this.r.f();this.l[S]&&(h=this.l[S].f());0!=f?h.scale(a.width/(f*b/d)):h.scale(1/b);Qc(this.a,f,g);Fc(this.a,100*this.T.x,100*this.T.y,j);f=this.T.x*a.width*d;g=this.T.y*a.height*d;a=c.x*d/b-f;b=c.y*d/b-g;c=this.J?this.J.Sb:0;(0!=f-c||0!=g-c)&&(this.a==this.F&&this.c.length)&&T.Oe.call(this);this.a!=this.F&&!this.K[Ec]&&(!this.K[S]&&!this.K[Gc])&&
Hc(this.F,Vc(new Jc,e).translate(f-c,g-c));this.h!=this.X&&(this.X&&T.Pd.call(this),this.h&&T.Uc.call(this));e=Vc(Ic(new Jc,0.1),e);this.h&&(T.ad.call(this.h),Ic(Ic(e,0.1).translate(-this.h.Me-f,-this.h.Ne-g).rotate(this.h.Ed,"rad").translate(f,g),1));f=-(this.z%=360);r(this.l[Gc])&&(f=-this.l[Gc]);e.translate(a,b).scale(h.x,h.y).rotate(f);!this.K[Ec]&&(!this.K[S]&&!this.K[Gc])&&Hc(this.a,e)};
T.update=function(){if(this.a){T.te.call(this);if(!this.K[$c]){var a=this.aa;r(this.l[$c])&&(a=this.l[$c]);if(this.o&ad){var b=this.a.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity="+100*a+")")}}this.o&bd&&(this.a.style.display=this.rc?"none":"block");this.na||this.m.G.call(this,this.a)}};
T.ad=function(){if(r(this.Ic)&&this.Ic.q){var a=this.Ic,b=M(this),c=new E(b.left,b.top),d=new E(b.right,b.top),e=new E(b.right,b.bottom),b=a.getParent(),c=!this.q?c:b.ba(this.Ra(c)),d=!this.q?d:b.ba(this.Ra(d)),e=!this.q?e:b.ba(this.Ra(e)),b=Math.atan2(c.y-d.y,d.x-c.x),f=d.x-c.x,g=c.y-d.y,h=e.x-d.x,k=e.y-d.y,d=Math.cos(b),e=Math.sin(b);this.Bc=Math.round(Math.sqrt(f*f+g*g));this.Ac=Math.round(Math.sqrt(h*h+k*k));P(a.m)==T&&(f=a.t,ic(f,this.Bc,this.Ac),Hc(f,Vc(Ic(new Jc,0.1),this.Wc).translate(c.x,
c.y).rotate(-b,"rad")));P(this.m)==T&&(this.a.style.display="none");this.Dd=cd(a,c.f());this.Le=j;this.Me=d*c.x-e*c.y;this.Ne=d*c.y+e*c.x;this.Ed=b}};T.ke=function(a,b,c){c==i||a.childNodes.length<=c?a.appendChild(b):a.insertBefore(b,a.childNodes[c])};T.Oe=function(){this.F=pb("div");for(var a=document.createDocumentFragment(),b;b=this.a.firstChild;)this.a.removeChild(b),a.appendChild(b);this.F.appendChild(a);this.a.appendChild(this.F)};
T.Pd=function(){if(this.a!=this.t){if(P(this.m)==T){F(this.a);var a=this.t,b=a.parentNode;b&&b.replaceChild(this.a,a);this.t=this.a}this.X.tc=0;this.X=l}};T.Uc=function(){if(P(this.m)==T){this.t=pb("div");this.t.style.cssText="position:absolute;overflow:hidden;";Fc(this.t,0,0);var a=this.a,b=a.parentNode;b&&b.replaceChild(this.t,a);this.t.appendChild(this.a)}this.h.tc=1;this.h.Ic=this;this.X=this.h;L(this.h,dd)};function ed(a,b){a!=l&&this.append.apply(this,arguments)}ed.prototype.Ma="";ed.prototype.append=function(a,b,c){this.Ma+=a;if(b!=l)for(var d=1;d<arguments.length;d++)this.Ma+=arguments[d];return this};ed.prototype.toString=aa("Ma");z&&C(8);var fd=[[],[]],gd=[[],[]];Qb=function(a,b,c){Aa((c?gd:fd)[b||0],a)};Rb=function(){for(var a,b=0;2>b;b++){for(;fd[b].length;)a=fd[b][0],a.update(b),a.o=0,a==fd[b][0]&&fd[b].shift();fd[b]=[]}gd=[[],[]]};var dd=1,Xb=4,ad=16,bd=32,Ec=1,S=2,Gc=4,$c=5,hd;var id=new ed;
id.append(".","lime-director"," {position:absolute; -webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; image-rendering:  optimizeSpeed; overflow: hidden;}.","lime-director"," div, .","lime-director"," img, .","lime-director"," canvas {-webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; position: absolute; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; -moz-user-select: none; -webkit-user-select: none; -webkit-user-drag: none;}.",
"lime-scene"," {position:absolute; width:100%; height:100%; left: 0px; top: 0px; overflow: hidden; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;}.","lime-fps"," {float: left; background: #333; color: #fff; position: absolute; top:0px; left: 0px; padding:2px 4px;}div.","lime-layer"," {position: absolute; left: 0px; top: 0px; width:0px; height:0px; border: none !important;}.","lime-cover"," {position: absolute; left: 0px; top: 0px;}.","lime-button"," {cursor: pointer;}");
hd=id.toString();mc(hd);function U(){zb.call(this);this.c=[];this.i=l;this.Ga={};this.l={};this.K={};this.Lc={};this.Wc=j;this.q=m;this.Gc=this.kc=l;this.u={};this.Za(1);this.e(0,0);this.k(0,0);this.Ba=1;this.C(0.5,0.5);this.z=0;this.l[Gc]||L(this,dd);this.Yc=0;L(this,7);this.aa=1;jd(this);kd(this,P(this.Fa[0]));L(this,64)}u(U,Nb);p=U.prototype;p.Fa=[T,Q];function kd(a,b){if(!a.m||P(a.m)!=b){for(var c=-1,d=0;d<a.Fa.length;d++)if(P(a.Fa[d])==b){c=d;break}if(-1!=c){a.m=a.Fa[d];L(a,64);for(d=0;c=a.c[d];d++)kd(c,b)}}}
p.Sa=function(){return!(this.i&&P(this.i.m)==Q)};function ld(a){return a.Sa()?(a.Sa()?md(a):nd(a),a):a.i?ld(a.i):l}function od(a){if(!a.i||a instanceof R)return[];var b=a.i.c.indexOf(a),a=od(a.i);a.push(b);return a}function pd(a,b){if(a==b)return 0;for(var c=od(a),d=od(b),e=0;;){if(c.length<=e)return 1;if(d.length<=e)return-1;if(c[e]==d[e])e++;else return c[e]>d[e]?-1:1}}p.gc=m;
function L(a,b,c,d){b&&!a.o&&Qb(a,c,d);a.o|=b;if(64==b)for(c=0;d=a.c[c];c++)d instanceof U&&L(d,64);if(!r(a.o)||!b)a.o=0;b&&a.na&&(a.Le=m,L(a.na,-1));return a}p.Za=function(a,b){this.r=1==arguments.length&&ea(a)?new N(a,a):2==arguments.length?new N(arguments[0],arguments[1]):a;this.l[S]||L(this,2)};p.e=function(a,b){this.d=2==arguments.length?new E(arguments[0],arguments[1]):a;return this.l[Ec]?this:L(this,dd)};
function jd(a){if(l!=a.h){if(a.h){var b=a.h;delete b.qb;qd(b,b.getParent());delete a.h.na}a.h=l;a.h&&(b=a.h,b.qb=j,b.q&&rd(b,b.getParent()),a.h.na=a);L(a,Xb)}}p.C=function(a,b){this.T=2==arguments.length?new N(arguments[0],arguments[1]):a;return L(this,dd)};p.b=aa("s");
p.k=function(a,b){var c=this.s,d,e;d=2==arguments.length?new D(arguments[0],arguments[1]):a;var f=this.T;if(c&&this.c.length)for(var g=0;g<this.c.length;g++){var h=this.c[g];if(h.ye){var k=h.Yc;if(0!=k){var n=V(h);e=c.width;var w=n.left+f.x*c.width,y=n.right-n.left,K=e-n.right-f.x*c.width;k&1&&(e-=w);k&2&&(e-=y);k&4&&(e-=K);e!=c.width&&(e=(d.width-e)/(c.width-e),k&1&&(w*=e),k&2&&(y*=e));e=c.height;var K=n.top+f.y*c.height,H=n.bottom-n.top,n=e-n.bottom-f.y*c.height;k&8&&(e-=K);k&16&&(e-=H);k&32&&(e-=
n);e!=c.height&&(e=(d.height-e)/(c.height-e),k&8&&(K*=e),k&16&&(H*=e));k=h.T;h.k(y,H);h.e(w+k.x*y-f.x*d.width,K+k.y*H-f.y*d.height)}}}this.s=d;return L(this,2)};function $b(a){a.R||sd(a);return a.R}function sd(a){var b=r(a.R)?a.R:a.Ba;a.i&&a.i.R&&(b=a.Ba*a.i.R);if(b!=a.R){a.R=b;for(var b=0,c;c=a.c[b];b++)c instanceof U&&sd(c);L(a,2)}}p.ye=aa("Yc");p.ba=function(a){if(!this.q)return a;a=this.getParent().ba(a);return cd(this,a)};
function cd(a,b){if(!a.getParent())return l;b.x-=a.d.x;b.y-=a.d.y;b.x/=a.r.x;b.y/=a.r.y;if(0!=a.z){var c=b.f(),d=a.z*Math.PI/180,e=Math.cos(d),d=Math.sin(d);b.x=e*c.x-d*c.y;b.y=e*c.y+d*c.x}return b}p.Ra=function(a){return!this.q?a:this.getParent().Ra(Kc(this,a))};function Kc(a,b){if(!a.getParent())return b;var c=b.f();if(0!=a.z){var d=-a.z*Math.PI/180,e=Math.cos(d),d=Math.sin(d);c.x=e*b.x-d*b.y;c.y=e*b.y+d*b.x}c.x*=a.r.x;c.y*=a.r.y;c.x+=a.d.x;c.y+=a.d.y;return c}
function md(a){function b(){this.a=this.t=this.F=pb(c);this.nc&&Ha(this.a,this.nc);this.o|=-1}var c=P(a.m)==Q?"canvas":"div";if(a.a){if(a.a.tagName.toLowerCase()!=c){var d=a.t;b.call(a);d.parentNode&&d.parentNode.replaceChild(a.t,d)}}else b.call(a)}function nd(a){a.t&&(F(a.t),delete a.a,delete a.t,delete a.F)}p.sa=function(){this.o&=-65;this.Sa()?md(this):nd(this);if(this.i&&this.i.o&64)this.i.sa();else if(this.Sa()){for(var a=0,b;b=this.c[a];a++)b instanceof U&&b.sa();this.m.sa.call(this)}};
p.update=function(a){var b,c,a=a||0;ha(this);this.o&64&&this.sa();var d=P(this.m)==T||a;if(d){for(var e in this.Lc)delete this.l[e],delete this.K[e],b=parseInt(e,10)==$c?"opacity":Lc,Pc(this.a,b),this.a!=this.F&&Pc(this.uf,b);b=0;for(e in this.Ga)c=this.Ga[e],c[3]||(c[3]=1,e==Ec&&this.We!=this.d&&(L(this,dd,0,j),b=1),e==S&&this.bf!=this.r&&(L(this,2,0,j),b=1),e==$c&&this.Ue!=this.aa&&(L(this,ad,0,j),b=1),e==Gc&&this.af!=this.z&&(L(this,128,0,j),b=1));if(!b)for(e in this.Ga){c=this.Ga[e];b=parseInt(e,
10)==$c?"opacity":Lc;if(P(this.m)==T||"opacity"!=b)this.l[e]=c[0],Oc(this.a,b,c[1],c[2]),this.a!=this.F&&b==Lc&&Oc(this.F,b,c[1],c[2]);delete this.Ga[e]}this.We=this.d;this.bf=this.r;this.Ue=this.aa;this.af=this.z;this.Lc={}}a?this.m.se.call(this):(P(this.m)==Q&&(c=ld(this),c.Kb=1,c==this&&(this.o==dd&&!this.h)&&(c.Kb=0),Qb(ld(this),1)),this.m.update.call(this));if(d)for(e in this.l)this.l[e]&&(this.K[e]=j);if(this.fa)for(e=0;e<this.fa.length;e++)L(this.fa[e],7);L(this,0,a)};
p.getParent=function(){return this.i?this.i:l};p.appendChild=function(a,b){a instanceof U&&a.getParent()?a.getParent().removeChild(a):a.parentNode&&F(a);a.i=this;b==i?this.c.push(a):Da(this.c,b,0,a);P(this.m)!=T&&kd(a,P(this.m));a instanceof U&&(sd(a),this.q&&td(a));return L(this,64)};
p.removeChild=function(a){a=this.c.indexOf(a);if(0<=a&&this.c.length>a){var b=0<=a&&this.c.length>a?this.c[a]:l;b.na&&jd(b.na);b instanceof U?(this.q&&b.ca(),nd(b),b.i=l):F(b);this.c.splice(a,1);a=L(this,64)}else a=this;return a};p.addEventListener=function(a){wc&&"mouse"==a.substring(0,5)||(r(this.u[a])||(this.u[a]=[0,0]),this.q&&0==this.u[a][0]&&(this.u[a][0]=1,this.A().ya.Lb(this,a)),this.u[a][1]++)};
p.removeEventListener=function(a){wc&&"mouse"==a.substring(0,5)||(this.q&&1==this.u[a][1]&&(this.u[a][0]=0,this.A().ya.Mb(this,a)),this.u[a][1]--,this.u[a][1]||delete this.u[a])};p.A=function(){return!this.q?l:this.kc};p.xb=function(){return!this.q?l:this.Gc};p.ca=function(){var a;this.qb||qd(this,this.getParent());for(var b=0;a=this.c[b];b++)a instanceof U&&a.ca();for(var c in this.u){this.u[c][0]=0;if(!this.A())debugger;this.A().ya.Mb(this,c)}ud(this.A().ya,this);this.q=m;this.Gc=this.kc=l};
function td(a){a.q=j;a.kc=a.i.A();a.Gc=a.i.xb();for(var b=0,c;c=a.c[b];b++)c instanceof U&&td(c);for(var d in a.u)a.u[d][0]=1,a.A().ya.Lb(a,d);a.qb&&(a.qb=j,a.q&&rd(a,a.getParent()));ud(a.A().ya,a)}function rd(a,b){b.fa||(b.fa=[]);Aa(b.fa,a);!b&&!(b.getParent()instanceof R)&&rd(a,b.getParent())}function qd(a,b){b&&b.fa&&(Ba(b.fa,a),qd(a,b.getParent()))}function M(a){var b=a.b(),a=a.T;return new bc(-b.height*a.y,b.width*(1-a.x),b.height*(1-a.y),-b.width*a.x)}
function V(a,b){var c=b||M(a),d=new E(c.left,c.top),e=new E(c.right,c.top),f=new E(c.left,c.bottom),c=new E(c.right,c.bottom),d=Kc(a,d),e=Kc(a,e),f=Kc(a,f),c=Kc(a,c);return new bc(Math.floor(Math.min(d.y,e.y,f.y,c.y)),Math.ceil(Math.max(d.x,e.x,f.x,c.x)),Math.ceil(Math.max(d.y,e.y,f.y,c.y)),Math.floor(Math.min(d.x,e.x,f.x,c.x)))}
p.Eb=function(){var a=M(this);a.left==a.right&&this.c.length&&(a=V(this.c[0],this.c[0].Eb()));for(var b=0,c;c=this.c[b];b++)if(1!=c.tc){var d=a;c=V(c,c.Eb());d.left=Math.min(d.left,c.left);d.top=Math.min(d.top,c.top);d.right=Math.max(d.right,c.right);d.bottom=Math.max(d.bottom,c.bottom)}return a};p.pb=function(a){this.Lc[a]=1};p.vd=function(a){var b=this.ba(a.Xa);return M(this).contains(b)?(a.position=b,j):m};function vd(a,b){Aa(b.fb,a);b.play()};function R(){U.call(this);this.C(0,0);this.nc="lime-scene";md(this)}u(R,U);R.prototype.xb=function(){return this};R.prototype.Eb=function(){return M(this)};function Ub(a){zb.call(this);this.La=1;this.df(a)}u(Ub,Sb);p=Ub.prototype;p.id="color";p.df=function(a){var b=a;s(a)?this.bb=a:(2<arguments.length&&(b=arguments),3<=b.length&&(this.Jb=b[0],this.wb=b[1],this.mb=b[2]),4==b.length&&(this.La=b[3]),this.bb=1==this.La?"rgb("+this.Jb+","+this.wb+","+this.mb+")":"rgba("+this.Jb+","+this.wb+","+this.mb+","+this.La+")")};p.Ya=function(a){a.style.background=this.bb};p.Ob=function(a){a.fillStyle=this.bb};
p.f=function(){var a=new Ub("");a.Jb=this.Jb;a.wb=this.wb;a.mb=this.mb;a.La=this.La;a.bb=this.bb;return a};Q.L={};T.L={};function W(){U.call(this);this.J=this.Oa=l}u(W,U);W.prototype.id="sprite";W.prototype.Fa=[Dc(T,T.L),Dc(Q,Q.L)];W.prototype.O=function(a,b,c,d){this.Oa=Tb(Ca(arguments));this.Oa.zb(this);L(this,Xb);return this};T.L.G=function(a){this.Oa===l||this.Oa.Ya(a,this);this.J===l?s("border-width")?ec(a,0,"border-width"):Ja("border-width",ma(ec,a)):this.J.Ya(a,this)};
Q.L.G=function(a){var b=this.b(),c=this.Oa,d=this.J;if(c||d){var e=M(this);c&&(c.Ob(a,this),"image"!=c.id&&"frame"!=c.id&&a.fillRect(e.left,e.top,b.width,b.height));if(d&&(d.Ob(a,this),"sprite"==this.id||"label"==this.id))c=d.Sb/2,a.strokeRect(e.left+c,e.top+c,b.width-2*c,b.height-2*c)}};var X,wd,xd,yd,zd;function Ad(){R.call(this);this.$d()}u(Ad,R);x(Ad.prototype,{$d:function(){-1<window.location.href.indexOf("usetiles")&&!Bd?this.be():this.ae()},ae:function(){var a=20*Y,b=26*Y,c=new O("media/bg_prerendered.png",0,0,a,b),a=(new W).O(c).k(a,b).C(0,0).e(0,0);this.appendChild(a)},be:function(){for(var a=new Bc,b=0;b<a.uc[0].ra.length;++b){var c=a.uc[0].ra[b];if(c.W.frame){var d=(new W).e(c.Va,c.Wa);d.C(0,0);d.O(c.W.frame);this.appendChild(d)}}}});function Cd(a,b){W.call(this);this.k(131,170);this.C(0.5,0);this.e(a,b);this.O(new O("media/logo.png",0,0,this.b().width,this.b().height))}u(Cd,W);Q.Ja={};T.Ja={};function Dd(a){W.call(this);Ed(this,a);Fd(this,Gd);Hd(this,14);this.md="#000";L(this,8);this.Vc="center";L(this,8);Id(this,"400");a=[0,0,0,0];r(i)&&(a[1]=a[3]=i);r(i)&&(a[2]=i);r(i)&&(a[3]=i);this.v=a;L(this,8);this.Ie=m;this.Cd=1.15;this.gf(l);this.O(255,255,255,0)}u(Dd,W);Dd.prototype.id="label";var Gd="Arial";Dd.prototype.Fa=[Dc(T.L,T.Ja),Dc(Q.L,Q.Ja)];var Jd;p=Dd.prototype;
p.measureText=function(){r(Jd)||(Jd=document.createElement("canvas").getContext("2d"));var a=Kd(this)*this.ja;Jd.font=this.ja+"px "+this.oc;var b=Jd.measureText(this.qa),b=B?b.width:b.width+1;tc&&(b+=1);var c=this.J?this.J.Sb:0;return new D(this.v[1]+this.v[3]+b+2*c,this.v[0]+this.v[2]+a+2*c)};p.b=function(){var a=U.prototype.b.call(this);return!a||!a.width&&!a.height?this.measureText():a};function Ed(a,b){a.qa=b+"";L(a,Xb);delete a.Mc;return a}function Id(a,b){a.nd=b;L(a,8);return a}
function Fd(a,b){a.oc=b;L(a,8);return a}function Hd(a,b){a.ja=b;L(a,8);return a}function Kd(a){var b=Math.abs(a.I.y)+2*a.P;return a.Ie?(a.Cd+b)/a.ja:a.Cd+b/a.ja}p.gf=function(a,b,c,d){1==arguments.length&&a===l?(this.$a="#ccc",this.P=0,this.Pb(0,0)):2==arguments.length?(this.$a=a,this.P=b,this.Pb(new N(0,0))):3==arguments.length?(this.$a=a,this.P=b,this.Pb(c)):(this.$a=a,this.P=b,this.Pb(c,d));L(this,8)};p.Pb=function(a,b){this.I=2==arguments.length?new N(arguments[0],arguments[1]):a;L(this,8)};
p.update=function(){this.o&Xb&&delete this.Bd;U.prototype.update.apply(this,arguments)};T.Ja.G=function(a){T.L.G.call(this,a);var b=a.style;this.o&Xb&&tb(a,this.qa);this.o&8&&(b.lineHeight=Kd(this),b.padding=za(this.v,function(a){return a*$b(this)},this).join("px ")+"px",b.color=this.md,b.fontFamily=this.oc,b.fontSize=this.ja*$b(this)+"px",b.fontWeight=this.nd,b.textAlign=this.Vc,b.textShadow=this.P||this.I.x||this.I.y?this.$a+" "+this.I.x+"px "+this.I.y+"px "+this.P+"px":"")};
Q.Ja.G=function(a){Q.L.G.call(this,a);var b=M(this),c=-b.left-this.v[3]+b.right-this.v[1]+Math.abs(this.I.x)+Math.abs(2*this.P),d=0;if(!this.Mc){var d=[],e=this.qa.length,f=this.qa.match(A?/[\s\.]+/g:/[\s-\.]+/g),g=0;if(f)for(var h=0;h<f.length;h++){var k=f[h],k=this.qa.indexOf(k,g)+k.length;d.push(this.qa.substring(g,k));g=k}g!=e&&d.push(this.qa.substring(g,e));this.Mc=d;d=1}f=this.J?this.J.Sb:0;a.save();e=this.Vc;"left"==e?a.translate(b.left+this.v[3]+f,b.top+this.v[0]+f):"right"==e?a.translate(b.right-
this.v[1]-f,b.top+this.v[0]+f):"center"==e&&a.translate(0.5*(b.left+this.v[3]+b.right-this.v[1]),b.top+this.v[0]+f);b=Kd(this);a.fillStyle=this.md;a.font=this.nd+" "+this.ja+"px/"+b+" "+this.oc;a.textAlign=e;a.textBaseline="top";if(this.P||this.I.x||this.I.y)a.shadowColor=this.$a,a.shadowOffsetX=this.I.x,a.shadowOffsetY=this.I.y,a.shadowBlur=this.P;if(d||c!=this.Bd){d=[];e="";f=this.Mc;for(h=0;h<f.length;h++)""==e?e=f[h]:(g=a.measureText(pa(e+f[h])),g.width>c?(d.push(pa(e)),e=f[h]):e+=f[h]);d.push(e);
this.wc=d;this.Bd=c}if(this.wc){c=b*this.ja;b=(r(this.P)?Math.abs(this.P):0)+(r(this.I)?Math.abs(this.I.y)/2:0);c=B?Math.floor(c):Math.round(c);for(d=0;d<this.wc.length;d++)a.fillText(this.wc[d],0,c*d+b-0.5)}a.restore()};function Ld(){Ad.call(this);var a=X.b();this.appendChild(new Cd(a.width/2,68));this.appendChild(Hd(Id(Ed(new Dd,"Breakout"),"bold"),30).k(a.width,40).C(0.5,0.5).e(a.width/2,a.height/2+40))}u(Ld,Ad);x(Ld.prototype,{kb:function(a,b,c){a=Hd(Fd(Ed(new Dd,a),"Verdana"),16).k(X.b().width-2*Y,20).C(0.5,0.5).e(b,c);this.appendChild(a)}});function Z(a){a&&fa(a.data)&&(a=a.data());this.Fb=this.Cb=m;this.U=document.createElement("audio");this.U.Ff=j;this.U.loop=m;A&&/\.mp3$/.test(a)&&(a=a.replace(/\.mp3$/,".ogg"));this.U.src=a;this.U.load();this.yc=setInterval(t(this.Ke,this),10);this.Cb=m}Z.prototype.Ke=function(){2<this.U.readyState&&(this.Cb=j,clearTimeout(this.yc));this.U.error&&clearTimeout(this.yc);sc&&0==this.U.readyState&&(this.Cb=j,clearTimeout(this.yc))};Z.prototype.ka=aa("Cb");
Z.prototype.play=function(){this.ka()&&!this.Fb&&(this.U.play(),this.Fb=j)};Z.prototype.stop=function(){this.Fb&&(this.U.pause(),this.Fb=m)};function Md(){W.call(this);this.k(Y,Y);this.n={x:0,y:0.08};var a=new O("media/tiles.png",7*Y,6*Y,Y,Y);this.O(a);this.pc=new Z("media/sfx/powerdown.mp3");$.pa(this.step,this)}u(Md,W);x(Md.prototype,{ca:function(){$.Ha(this.step,this)},step:function(a){var b=this.d;b.x+=this.n.x*a;b.y+=this.n.y*a;this.e(b);this.Wb();this.d.y>X.b().height&&this.ga()},ga:function(){this.getParent().removeChild(this)},Wb:function(){var a=V(this.w),b=V(this);cc(a,b)&&(this.pc.play(),this.w.Se(),this.ga())}});zd={};
zd=[{name:"letsa begin",ob:[[l,l,"green","orange","green",l,l],"orange blue green green green blue orange".split(" "),[l,"blue","blue","blue","blue","blue",l]],Hb:1,Gb:1},{name:"how's it going?",ob:[[l,"green","orange","green","orange","green",l],[l,"blue","blue","blue","blue","blue",l],"green blue red blue red blue green".split(" "),"green blue blue blue blue blue green".split(" "),["green","blue",l,l,l,"blue","green"],[l,"blue","blue","blue","blue","blue",l]],Hb:1,Gb:1},{name:"tie fighta!",ob:[[l,
"blue",l,"green",l,"blue",l],["blue",l,"blue","orange","blue",l,"blue"],"blue green blue orange blue green blue".split(" "),["blue",l,"blue","orange","blue",l,"blue"],[l,"blue",l,l,l,"blue",l],["red",l,"red",l,"red",l,"red"]],Hb:2,Gb:2},{name:"swirl",ob:["red green orange blue red green orange".split(" "),["blue",l,l,l,l,l,l],["orange",l,"orange","blue","red","green","orange"],["green",l,"green",l,l,l,"blue"],["red",l,"red",l,"red",l,"red"],["blue",l,"blue","orange","green",l,"green"],["orange",l,
l,l,l,l,"orange"],"green red blue orange green red blue".split(" ")],Hb:2,Gb:3}];var $=new function(){this.Q=[];this.ta=m;this.yd=0;this.mc=1E3/30;this.ma=0};function Nd(a,b){this.N=this.Hd=a;this.vc=r(b)?b:-1;this.Z=[]}Nd.prototype.Ea=function(a){if(this.Z.length)if(this.N>a)this.N-=a;else{var b=this.Hd+a-this.N;this.N=this.Hd-(a-this.N);0>this.N&&(this.N=0);for(var c,a=this.Z.length;0<=--a;)(c=this.Z[a])&&(c[0]&&fa(c[1]))&&c[1].call(c[2],b);-1!=this.vc&&(this.vc--,0==this.vc&&$.Ha(c[1],c[2]))}};$.Q.push(new Nd(0));$.Nc=q.mozRequestAnimationFrame||q.webkitRequestAnimationFrame;
$.xf=aa("mc");$.Hf=function(a){this.mc=a;this.ta&&($.gd(),$.Sc())};$.pa=function(a,b,c){c=r(c)?c:this.Q[0];Aa(c.Z,[1,a,b]);Aa(this.Q,c);this.ta||$.Sc()};$.Ha=function(a,b){for(var c=this.Q.length;0<=--c;){for(var d=this.Q[c],e=d.Z,f,g=e.length;0<=--g;)f=e[g],f[1]==a&&f[2]==b&&Ba(e,f);0==e.length&&0!=c&&Ba(this.Q,d)}1==this.Q.length&&0==this.Q[0].Z.length&&$.gd()};
$.Sc=function(){this.ta||(this.ma=na(),$.Nc?q.mozRequestAnimationFrame?11<=$a?(this.da=t($.Xc,this),q.mozRequestAnimationFrame(this.da)):(q.mozRequestAnimationFrame(),this.$c=t($.le,this),q.addEventListener("MozBeforePaint",this.$c,m)):(this.da=t($.Xc,this),q.webkitRequestAnimationFrame(this.da)):this.yd=setInterval(t($.lf,this),$.mc),this.ta=j)};
$.gd=function(){this.ta&&($.Nc?q.mozRequestAnimationFrame?11<=$a?q.mozCancelRequestAnimationFrame(this.da):q.removeEventListener("MozBeforePaint",this.$c,m):q.webkitCancelRequestAnimationFrame(this.da):clearInterval(this.yd),this.ta=m)};$.Xc=function(a){var b=q.performance,c;b&&(c=b.now||b.webkitNow)?a=b.timing.navigationStart+c.call(b):a||(a=na());b=a-this.ma;0>b&&(b=1);$.lc(b);this.ma=a;q.webkitRequestAnimationFrame?q.webkitRequestAnimationFrame(this.da):q.mozRequestAnimationFrame(this.da)};
$.le=function(a){$.lc(a.timeStamp-this.ma);this.ma=a.timeStamp;q.mozRequestAnimationFrame()};$.lf=function(){var a=na(),b=a-this.ma;0>b&&(b=1);$.lc(b);this.ma=a};$.lc=function(a){for(var b=this.Q.slice(),c=b.length;0<=--c;)b[c].Ea(a);1==Pb&&(/Firefox\/4./.test(Ra())&&!Ob.sf)&&($.Jd?(document.body.style.MozTransform="",$.Jd=0):(document.body.style.MozTransform="scale(1,1)",$.Jd=1),Pb=0)};
$.oe=function(a,b){for(var c,d,e,f,g=this.Q.length;0<=--g;){c=this.Q[g];for(f=c.Z.length;0<=--f;)e=c.Z[f],d=e[2],fa(d.A)&&(d=d.A(),d==a&&(e[0]=b))}};$.ec=function(a,b,c){$.cf(a,b,c)};$.cf=function(a,b,c){$.pa(a,b,new Nd(c,1))};function Od(){zb.call(this);this.fb=[];this.sc=[];this.Qb={};this.zf=m;this.xa=1;this.jd=Pd;this.ab=0}u(Od,Nb);p=Od.prototype;p.scope="";p.Da=function(a){this.xa=a;return this};p.play=function(){this.Fc=0;this.kd=this.ab=1;$.pa(this.Ea,this);this.dispatchEvent({type:"start"})};p.stop=function(){if(0!=this.ab){var a=this.sc;if(Qd(this)&&this.pb)for(var b=a.length;0<=--b;)this.pb(a[b]);this.sc=[];this.Qb={};this.ab=0;$.Ha(this.Ea,this);this.dispatchEvent({type:"stop"})}};p.Gd=function(){return{}};
function Rd(a,b){var c=ha(b);r(a.Qb[c])||(Sd.Lb(a,b),a.ab=1,Aa(a.sc,b),a.kf&&(!a.jf&&a.dc)&&a.dc(),a.Qb[c]=a.Gd(b));return a.Qb[c]}p.A=function(){return this.fb[0]?this.fb[0].A():l};p.Ea=function(a){this.kf&&(!this.jf&&this.dc)&&this.dc();this.kd&&(delete this.kd,a=1);this.Fc+=a;this.ue=a;a=this.Fc/(1E3*this.xa);if(isNaN(a)||1<=a)a=1;a=this.Sd(a,this.fb);1==a&&this.stop()};p.Sd=function(a,b){a=this.jd[0](a);isNaN(a)&&(a=1);for(var c=b.length;0<=--c;)this.update(a,b[c]);return a};
function Qd(a){return 0<a.xa&&Nc&&a.Cf&&!uc&&!A}var Sd=new function(){this.S={}};Sd.Lb=function(a,b){if(a.scope.length){var c=ha(b);r(this.S[c])||(this.S[c]={});r(this.S[c][a.scope])&&this.S[c][a.scope].stop();this.S[c][a.scope]=a}};Sd.Kf=function(a){a=ha(a);if(r(this.S[a]))for(var b in this.S[a])this.S[a][b].stop(),delete this.S[a][b]};
function Td(a){var b,c,d,e;d=a;for(c=0;8>c;c++){e=((Ud*d+Vd)*d+Wd)*d-a;if(5E-5>(0<=e?e:0-e))return d;b=(3*Ud*d+2*Vd)*d+Wd;if(1E-6>(0<=b?b:0-b))break;d-=e/b}b=0;c=1;d=a;if(d<b)return b;if(d>c)return c;for(;b<c;){e=((Ud*d+Vd)*d+Wd)*d;if(5E-5>(0<=e-a?e-a:0-(e-a)))break;a>e?b=d:c=d;d=0.5*(c-b)+b}return d}var Ud=0,Vd=0,Wd=0,Xd=0,Yd=0,Zd=0,Pd;Pd=[function(a){Wd=1.26;Vd=3*(0.58-0.42)-Wd;Ud=1-Wd-Vd;Zd=0;Yd=3-Zd;Xd=1-Zd-Yd;return((Xd*Td(a)+Yd)*Td(a)+Zd)*Td(a)},0.42,0,0.58,1];function $d(a,b){Od.call(this);this.r=1==arguments.length&&ea(a)?new N(a,a):2==arguments.length?new N(arguments[0],arguments[1]):a}u($d,Od);$d.prototype.scope="scale";$d.prototype.Gd=function(a){var b=a.r,c=new N(this.r.x-b.x,this.r.y-b.y);Qd(this)&&(a.Ga[S]=[new N(b.x+c.x,b.y+c.y),this.xa,this.jd,0],L(a,2));return{Rd:b,N:c}};$d.prototype.update=function(a,b){if(0!=this.ab){var c=Rd(this,b);b.Za(c.Rd.x+c.N.x*a,c.Rd.y+c.N.y*a)}};$d.prototype.pb=function(a){Qd(this)&&(a.pb(S),L(a,2))};var ae={blue:0,orange:1,red:2,green:3};wd={};wd=function(a){W.call(this);this.C(0.5,0.5);this.color=a;this.k(2*Y,Y);a=ae[this.color]*this.b().height;this.O(new O("media/tiles.png",0,a,this.b().width,this.b().height));this.re=new Z("media/sfx/brickDeath.mp3");this.me()};u(wd,W);
x(wd.prototype,{me:function(){this.Za(0);vd(this,(new $d(1)).Da(0.5))},ga:function(){if(!this.ve){this.ve=j;this.re.play();this.Za(1);var a=(new $d(0)).Da(0.3);J(a,"stop",function(){this.getParent()&&this.getParent().removeChild(this)},m,this);vd(this,a);this.Ta&&this.Ta(this)}}});function be(a){return new E((a.left+a.right)/2,(a.top+a.bottom)/2)}xd={};xd=function(){W.call(this);this.k(Y,Y);this.C(0,0);this.speed=0.14;this.n={x:this.speed,y:this.speed};vd(this,this.Xb());$.pa(this.step,this)};u(xd,W);
x(xd.prototype,{ca:function(){$.Ha(this.step,this)},Yb:function(){for(var a=[],b=this.b().width,c=this.b().height,d=3*Y,e=4*Y,f=0;5>f;++f){var g=new O("media/tiles.png",d+f*b,e,b,c);a.push(g)}return a},Xb:function(){var a=this.Yb(),a=ce(new de,a);a.jc=0.2;a.zc=j;return a},Wd:function(){this.Zd()?(this.n.x*=-1,this.e(this.Ua.x,this.d.y)):this.Yd()&&(this.n.y*=-1,this.e(this.d.x,this.Ua.y))},Zd:function(){var a=this.d.x;return a<=Y||a+this.b().width>=X.b().width-Y},Yd:function(){return this.d.y<Y},
Td:function(a){var b=V(this),c=V(a),d=this.b(),a=a.b(),e=be(b),f=be(c),g=c.left-b.left,g=e.x<f.x?g-d.width:g+a.width,b=c.top-b.top,b=e.y<f.y?b-d.height:b+a.height;Math.abs(g)<Math.abs(b)?(this.e(this.Ua.x,this.d.y),this.n.x*=-1):(this.e(this.d.x,this.Ua.y),this.n.y*=-1)},Ud:function(){for(var a=V(this),b=this.getParent().ze(),c=0;c<b.length;++c){var d=b[c],e=V(d);if(cc(a,e)){this.Td(d);d.ga();break}}},Vd:function(){if(0<this.n.y){var a=V(this.w),b=V(this);cc(a,b)&&(this.n.y*=-1,this.n.x=this.Xd(this.w),
this.e(this.Ua.x,this.d.y))}},Xd:function(a){var b=be(V(a)),c=be(V(this)),d=b.x-c.x,e=b.y-c.y,a=2.5*((Math.sqrt(d*d+e*e)-this.b().height/2-a.b().height/2)/(a.b().width/2));c.x<b.x&&(a=-a);return this.speed*a},step:function(a){if(this.Tc){var b=this.d;this.Ua=b;this.e(b.x+this.n.x*a,b.y+this.n.y*a);this.d.y>X.b().height?this.Ta&&this.Ta(this):(this.Wd(),this.Ud(),this.Vd())}}});function ee(){W.call(this);this.C(0,0);this.e(X.b().width/2-this.b().width/2,368);this.qd=new D(3*Y,Y);this.Pe=new D(2*Y,Y);this.rd=new O("media/tiles.png",0,4*Y,3*Y,Y);this.Qe=new O("media/tiles.png",0,5*Y,2*Y,Y);this.O(this.rd);this.k(this.qd);this.Ze=new Z("media/sfx/recover.mp3")}u(ee,W);x(ee.prototype,{Xe:10,ff:function(){this.O(this.Qe);this.k(this.Pe)},ef:function(){this.O(this.rd);this.k(this.qd);this.Ze.play()},Se:function(){this.ff();$.ec(this.ef,this,1E3*this.Xe)}});function fe(){Ld.call(this);var a=X.b();this.kb("you are the master!",a.width/2,a.height/2+70);J(this,["mousedown"],this.Ka,this);$.ec(function(){ge(X,new he)},l,4E3)}u(fe,Ld);x(fe.prototype,{Ka:function(){ge(X,new he)}});Q.Tb={};T.Tb={};T.Tb.G=function(a){this.b();T.L.G.call(this,a);Tc(a,[this.Ye*this.Ba,this.Ye*this.Ba])};
Q.Tb.G=function(a){this.b();var b=M(this),c=this.yf(),d=b.left,e=b.top,f=b.right-b.left,b=b.bottom-b.top;a.save();a.beginPath();a.moveTo(d+c,e);a.lineTo(d+f-c,e);a.quadraticCurveTo(d+f,e,d+f,e+c);a.lineTo(d+f,e+b-c);a.quadraticCurveTo(d+f,e+b,d+f-c,e+b);a.lineTo(d+c,e+b);a.quadraticCurveTo(d,e+b,d,e+b-c);a.lineTo(d,e+c);a.quadraticCurveTo(d,e,d+c,e);a.closePath();a.clip();Q.L.G.call(this,a);this.J&&(a.lineWidth*=2,a.stroke());a.restore()};function ie(){Ld.call(this);var a=X.b();this.kb("game over",a.width/2,a.height/2+70);J(this,["mousedown"],this.Ka,this);$.ec(function(){ge(X,new he)},l,2E3)}u(ie,Ld);x(ie.prototype,{Ka:function(){ge(X,new he)}});function je(){W.call(this);this.k(Y,Y);this.n={x:0,y:0.08};var a=new O("media/tiles.png",6*Y,6*Y,Y,Y);this.O(a);this.pc=new Z("media/sfx/powerup.mp3");$.pa(this.step,this)}u(je,W);x(je.prototype,{ca:function(){$.Ha(this.step,this)},step:function(a){var b=this.d;b.x+=this.n.x*a;b.y+=this.n.y*a;this.e(b);this.Wb();this.d.y>X.b().height&&this.ga()},ga:function(){this.getParent().removeChild(this)},Wb:function(){var a=V(this.w),b=V(this);cc(a,b)&&(this.pc.play(),this.w.Te(),this.ga())}});function de(){Od.call(this);this.V=[];this.Cc=0;this.Mf=m;this.Na=-1;this.jc=1/15;this.zc=j}u(de,Od);p=de.prototype;p.scope="keyframe";function ce(a,b){a.V=[];a.Cc=0;a.Na=-1;for(var c=0;c<b.length;c++)a.je(Tb([b[c]]));return a}p.je=function(a){this.wf=m;var b=Tb(Ca(arguments));"image"==b.id&&!b.ka()?J(b,"load",this.pd,m,this):"frame"==b.id&&(!a.g||!a.g.Ib)?J(b,"processed",this.pd,m,this):this.Cc++;this.V.push(b)};p.pd=function(){this.Cc++};p.play=function(){this.la=0;Od.prototype.play.call(this)};
p.Sd=function(a,b){for(var c=this.ue,d=Math.round(1E3*this.jc),e=l,f=b.length,g=this.zc;0<=--f;)Rd(this,b[f]);this.la+=c;c=this.Na+1;if(this.la>d&&(c<this.V.length?e=j:g&&c>=this.V.length?(e=j,c=0):e=m,e)){e=this.V[c];f=b.length;if(0<f)for(;0<=--f;)this.fb[f].O(e);this.Na=c;this.la-=d;this.la%=d}return g?0:c/this.V.length};yd={};yd=function(a){W.call(this);this.duration=a||2;this.k(2*Y,3*Y);this.C(0.5,0.5);this.e(X.b().width/2,X.b().height/2);this.lb=this.Xb();vd(this,this.lb);J(this.lb,"stop",function(){this.bc.play();this.Kd&&this.Kd()},m,this);this.bc=new Z("media/sfx/countdownBlip.mp3");$.pa(this.step,this)};u(yd,W);
x(yd.prototype,{ca:function(){$.Ha(this.step,this)},step:function(){this.qe!==this.lb.Na&&(this.qe=this.lb.Na,this.bc.play(),this.bc=new Z("media/sfx/countdownBlip.mp3"))},Yb:function(){for(var a=[],b=this.b().width,c=this.b().height,d=0;3>d;++d){var e=new O("media/tiles.png",d*b,6*Y,b,c);a.push(e)}return a},Xb:function(){var a=this.Yb(),b=ce(new de,a);b.jc=this.duration/a.length;b.zc=m;return b}});function ke(){Ad.call(this);this.xc=3;this.$=this.Hc=0;this.w=new ee;this.w.Te=t(this.fe,this);this.appendChild(this.w);var a=X.b();this.wd=Hd((new Dd).C(0.5,0.5),18).e(a.width/2,a.height-20);this.appendChild(this.wd);this.ib();this.ie();this.hb(1)}u(ke,Ad);
x(ke.prototype,{ie:function(){J(this,["mousemove","touchmove"],this.ee,m,this);J(document,["keydown"],function(a){37===a.keyCode&&this.hb(this.$-1);39===a.keyCode&&this.hb(this.$+1);80===a.keyCode&&le(X,!X.Ad)},m,this)},ze:function(){return this.gb(wd)},gb:function(a){for(var b=[],c=this.c.length,d=0;d<c;++d){var e=0<=d&&this.c.length>d?this.c[d]:l;e instanceof a&&b.push(e)}return b},Rc:function(a){a=this.gb(a);xa(a,function(a){this.removeChild(a)},this)},hb:function(a){this.$=a;0===this.$?ge(X,new he):
this.$>zd.length?ge(X,new fe):(this.Rc(xd),this.ge(this.$),this.Oc(),this.Vb(m),this.ib())},ib:function(){Ed(this.wd,"lives: "+this.xc+" score: "+this.Hc+" level: "+this.$)},Vb:function(a){var b=new xd;b.Tc=a;b.e(50,280);b.w=this.w;b.Ta=t(this.ce,this);this.appendChild(b)},Oc:function(){this.ea&&(this.removeChild(this.ea),delete this.ea);this.ea=new yd(2);this.ea.Kd=function(){this.removeChild(this.ea);delete this.ea;xa(this.gb(xd),function(a){a.Tc=j})}.bind(this);this.appendChild(this.ea)},ge:function(a){this.Rc(wd);
var b=zd[a-1],a=b.ob,c=1.5*me,d=4*ne,e=t(this.de,this);this.cc=0;for(var f=this.Qc(a,b.Hb),b=this.Qc(a,b.Gb),g=0;g<a.length;++g)for(var h=0;h<a[g].length;++h){var k=a[g][h];if(k){++this.cc;var k=new wd(k),n=k.b().width/2,w=k.b().height/2;k.e(c+h*k.b().width+n,d+g*k.b().height+w);k.Ta=e;k.De=this.Zb(h,g,f);k.Ce=this.Zb(h,g,b);this.appendChild(k)}}},Qc:function(a,b){for(var c=[],d=0;d<b;++d){var e,f;do f=Math.random()*a.length|0,e=Math.random()*a[f].length|0;while(this.Zb(e,f,c));c.push({x:e,y:f})}return c},
Zb:function(a,b,c){for(var d=0;d<c.length;++d)if(c[d].x===a&&c[d].y===b)return j;return m},ee:function(a){var b=this.w.d;b.x=a.position.x;this.w.e(b)},Pc:function(a,b){var c=new a;c.e(b);c.w=this.w;this.appendChild(c)},fe:function(){this.Vb(j)},de:function(a){this.Hc+=100;this.ib();a.De&&this.Pc(je,a.d);a.Ce&&this.Pc(Md,a.d);--this.cc;0===this.cc&&this.hb(this.$+1)},ce:function(a){this.removeChild(a);this.gb(xd).length||(--this.xc,this.xc?this.he():ge(X,new ie))},he:function(){this.Oc();this.Vb(m);
this.ib()}});function he(){Ld.call(this);var a=X.b();this.kb((Bd?"tap":"click")+" to start",a.width/2,a.height/2+70);this.kb("during the game:\nuse L/R arrow keys to skip levels",a.width/2,a.height/2+140);J(this,["mousedown","touchend"],this.Ka,this)}u(he,Ld);x(he.prototype,{Ka:function(){ge(X,new ke)}});function oe(){R.call(this);this.a.style.cssText="background:rgba(255,255,255,.8)"}u(oe,R);function pe(a){this.rb=a;this.identifier=0}pe.prototype.Mb=function(a){var b=r(a),c=da(a)?a:[a];if(a=this.rb.cb[this.identifier]){var d=this,a=ya(a,function(a){return!r(d.eb)||a[0]==d.eb&&(!b||0<=wa(c,a[1]))?(Ib(a[0],a[1],a[2]),m):j});a.length?this.rb.cb[this.identifier]=a:delete this.rb.cb[this.identifier]}};pe.prototype.f=function(){var a=new pe(this.rb);x(a,this);return a};function qe(a){this.ha=a;this.B={};this.cb={}}qe.prototype.Lb=function(a,b){r(this.B[b])?0<=wa(this.B[b],a)||(this.B[b].push(a),this.B[b].sort(pd)):(this.B[b]=[a],J("touch"==b.substring(0,5)&&a!=this.ha?document:"key"==b.substring(0,3)?window:this.ha.a.parentNode,b,this,m,this))};qe.prototype.Mb=function(a,b){r(this.B[b])&&(Ba(this.B[b],a),this.B[b].length||(Ib(this.ha.a.parentNode,b,this,m,this),delete this.B[b]))};function ud(a,b){for(var c in a.B){var d=a.B[c];0<=wa(d,b)&&d.sort(pd)}}
qe.prototype.handleEvent=function(a){if(r(this.B[a.type])){for(var b=this.B[a.type].slice(),c=m,d=0,e=0;!e;){var f=new pe(this);f.type=a.type;f.event=a;if("touch"==a.type.substring(0,5)){var g=a.vb.changedTouches[d];f.Xa=new E(g.pageX,g.pageY);f.identifier=g.identifier;d++;d>=a.vb.changedTouches.length&&(e=1)}else f.Xa=new E(a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a.clientY+document.body.scrollTop+document.documentElement.scrollTop),e=1;if(r(this.cb[f.identifier])){for(var g=
this.cb[f.identifier],h=0;h<g.length;h++)if(g[h][1]==a.type||da(g[h][1])&&0<=wa(g[h][1],a.type)){var k=g[h][0];f.eb=k;f.position=k.ba(f.Xa);g[h][2].call(k,f);c=j}if("touchend"==a.type||"touchcancel"==a.type||"mouseup"==a.type||"keyup"==a.type)delete f.eb,f.Mb()}else for(h=0;h<b.length;h++)if(k=b[h],!((this.ha.j.length?this.ha.j[this.ha.j.length-1]:l)!=k.xb()&&k!=this.ha)&&!k.rc&&k.q)if(f.eb=k,k.vd(f)||"key"==a.type.substring(0,3))if(f.eb=k,k.dispatchEvent(f),c=j,f.event.oa)break}c&&a.preventDefault()}};function re(a){zb.call(this);this.Ia=a||window;this.Je=J(this.Ia,"resize",this.Be,m,this);this.s=ob(this.Ia||window);if(B&&Ya||Ua&&this.Ia.self!=this.Ia.top)this.rf=window.setInterval(t(this.bd,this),se)}u(re,Nb);var se=500;p=re.prototype;p.Je=l;p.Ia=l;p.s=l;p.rf=l;p.b=function(){return this.s?this.s.f():l};p.Be=function(){this.bd()};p.bd=function(){var a=ob(this.Ia||window);if(!(a==this.s||(!a||!this.s?0:a.width==this.s.width&&a.height==this.s.height)))this.s=a,this.dispatchEvent("resize")};function te(a,b){zb.call(this);this.xa=1;this.Df=a;this.xd=b;this.we=m}u(te,Nb);te.prototype.Da=function(a){this.xa=a;return this};te.prototype.start=function(){this.xd.e(new E(0,0));var a=this.xd;a.rc=m;L(a,bd);a.tf=0;this.finish()};te.prototype.finish=function(){this.dispatchEvent(new G("end"));this.we=j};function ue(a,b,c){U.call(this);this.q=j;this.C(0,0);this.j=[];this.ed=[];this.nc="lime-director";md(this);a.appendChild(this.a);if(B&&Va){this.dd=document.createElement("div");Ha(this.dd,"lime-cover-below");var d=this.a;d.parentNode&&d.parentNode.insertBefore(this.dd,d);this.cd=document.createElement("div");Ha(this.cd,"lime-cover-above");d=this.a;d.parentNode&&d.parentNode.insertBefore(this.cd,d.nextSibling)}"absolute"!=a.style.position&&(a.style.position="relative");a.style.overflow="hidden";if(a==
document.body){mc("html,body{margin:0;padding:0;height:100%;}");d=document.createElement("meta");d.name="viewport";var e="width=device-width,initial-scale=1.0,minimum-scale=1,maximum-scale=1.0,user-scalable=no";/android/i.test(navigator.userAgent)&&(e+=",target-densityDpi=device-dpi");d.content=e;document.getElementsByTagName("head").item(0).appendChild(d);if(Va&&!q.navigator.If){var f=this;setTimeout(function(){window.scrollTo(0,0);f.Bb()},100)}}var g,a=kc(a);this.k(new D(g=b||a.width||400,c||a.height*
g/a.width||400));this.sb&&F(this.od);this.sb=m;le(this,m);b=new re;J(b,"resize",this.Bb,m,this);J(q,"orientationchange",this.Bb,m,this);$.pa(this.Ea,this);this.ya=new qe(this);J(this,["touchmove","touchstart"],function(a){a.event.preventDefault()},m,this);J(this,["mouseup","touchend","mouseout","touchcancel"],function(){},m);this.Bb()}u(ue,U);
function le(a,b){a.Ad=b;$.oe(a,!b);if(a.Ad){a.Ec=new (a.Ef||oe);var c=a.Ec,d;c.k(a.b().f());r(i)&&a.j.length&&(d=a.j[a.j.length-1],d=new i(d,c),r(i)&&d.Da(i),c.a.style.display="none");a.j.push(c);a.a.appendChild(c.a);c.i=a;td(c);d&&d.start()}else if(a.Ec){var e=a.j.length?a.j[a.j.length-1]:l;e!==l&&(d=function(){e.ca();e.i=l;F(e.a);this.j.pop();e=l},r(i)&&1<a.j.length?(c=new i(e,a.j[a.j.length-2]),r(i)&&c.Da(i),Hb(c,"end",d,m,a)):d.call(a),c&&c.start());delete a.Ec}}p=ue.prototype;p.A=function(){return this};
p.xb=function(){return l};p.Ea=function(a){this.sb&&(this.V++,this.jb+=a,100<this.jb&&(this.xe=1E3*this.V/this.jb,tb(this.od,this.xe.toFixed(2)),this.jb=this.V=0));Rb()};
function ge(a,b){b.k(a.b().f());var c=l;a.j.length&&(c=a.j[a.j.length-1]);for(var d=[],e=a.j.length;0<=--e;)a.j[e].ca(),d.push(a.j[e].a),a.j[e].i=l;a.j.length=0;a.j.push(b);b.a.style.display="none";a.a.appendChild(b.a);b.i=a;td(b);c=new te(c,b);Hb(c,"end",function(){for(var a=d.length;0<=--a;)F(d[a]);d.length=0},m,a);r(i)&&c.Da(i);c.start()}p.sa=function(){this.o&=-65};p.ba=function(a){a=a.f();a.x-=this.tb.x+this.d.x;a.y-=this.tb.y+this.d.y;a.x/=this.r.x;a.y/=this.r.y;return a};
p.Ra=function(a){a=a.f();a.x*=this.r.x;a.y*=this.r.y;a.x+=this.tb.x+this.d.x;a.y+=this.tb.y+this.d.y;return a};p.update=function(){U.prototype.update.call(this);for(var a=this.ed.length;0<=--a;)this.ed[a].update()};
p.Bb=function(){var a=kc(this.a.parentNode);this.a.parentNode==document.body&&(window.scrollTo(0,0),ea(window.innerHeight)&&(a.height=window.innerHeight));var b;b=this.b().f();b=b.scale(b.width/b.height>a.width/a.height?a.width/b.width:a.height/b.height);var c=b.width/this.b().width;this.Za(c);a.width/a.height<b.width/b.height?this.e(0,(a.height-b.height)/2):this.e((a.width-b.width)/2,0);var c=this.a.parentNode,d,e=mb(c),f=fc(c,"position"),g=A&&e.getBoxObjectFor&&!c.getBoundingClientRect&&"absolute"==
f&&(d=e.getBoxObjectFor(c))&&(0>d.screenX||0>d.screenY);b=new E(0,0);var h;d=e?mb(e):document;if(h=z)if(h=!(z&&9<=hb))h="CSS1Compat"!=kb(d).ia.compatMode;h=h?d.body:d.documentElement;if(c!=h)if(c.getBoundingClientRect)d=gc(c),e=kb(e).ia,c=!B&&"CSS1Compat"==e.compatMode?e.documentElement:e.body,e=e.parentWindow||e.defaultView,c=new E(e.pageXOffset||c.scrollLeft,e.pageYOffset||c.scrollTop),b.x=d.left+c.x,b.y=d.top+c.y;else if(e.getBoxObjectFor&&!g)d=e.getBoxObjectFor(c),c=e.getBoxObjectFor(h),b.x=d.screenX-
c.screenX,b.y=d.screenY-c.screenY;else{d=c;do{b.x+=d.offsetLeft;b.y+=d.offsetTop;d!=c&&(b.x+=d.clientLeft||0,b.y+=d.clientTop||0);if(B&&"fixed"==fc(d,"position")){b.x+=e.body.scrollLeft;b.y+=e.body.scrollTop;break}d=d.offsetParent}while(d&&d!=c);if(Ua||B&&"absolute"==f)b.y-=e.body.offsetTop;for(d=c;(d=hc(d))&&d!=e.body&&d!=h;)if(b.x-=d.scrollLeft,!Ua||"TR"!=d.tagName)b.y-=d.scrollTop}this.tb=b;Va&&this.a.parentNode==document.body&&(this.Ld&&(b=this.Ld,F(b.ownerNode||b.owningElement||b)),this.Ld=mc("html{height:"+
(a.height+120)+"px;overflow:hidden;}"))};p.vd=function(a){a&&a.Xa&&(a.position=this.ba(a.Xa));return j};var Y=16,me=32,ne=16,Bd;try{document.createEvent("TouchEvent"),Bd=j}catch(ve){Bd=m}oa("breakout.TILE_SIZE",Y);oa("breakout.BRICK_WIDTH",me);oa("breakout.BRICK_HEIGHT",ne);oa("breakout.IS_MOBILE",Bd);oa("breakout.start",function(a){a=X=new ue(document.getElementById(a),20*Y,26*Y);a.sb&&F(a.od);a.sb=m;ge(X,new he)});
